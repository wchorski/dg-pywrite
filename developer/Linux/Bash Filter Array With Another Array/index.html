<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bash Filter Array With Another Array</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://fastly.jsdelivr.net/npm/mermaid@9.4.0/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdn.jsdelivr.net/npm/lucide@0.115.0/dist/umd/lucide.min.js"></script>
<script>
    // Create callout icons
    window.addEventListener("load", () => {
        document.querySelectorAll(".callout").forEach((elem) => {
            const icon = getComputedStyle(elem).getPropertyValue('--callout-icon');
            const iconName = icon && icon.trim().replace(/^lucide-/, "");

            if (iconName) {
                const calloutTitle = elem.querySelector(".callout-title");

                if (calloutTitle) {
                    const calloutIconContainer = document.createElement("div");
                    const calloutIcon = document.createElement("i");

                    calloutIconContainer.appendChild(calloutIcon);
                    calloutIcon.setAttribute("icon-name", iconName);
                    calloutIconContainer.setAttribute("class", "callout-icon");
                    calloutTitle.insertBefore(calloutIconContainer, calloutTitle.firstChild);
                }
            }
        });

        lucide.createIcons();

        // Collapse callouts
        Array.from(document.querySelectorAll(".callout.is-collapsible")).forEach((elem) => {
            elem.querySelector('.callout-title').addEventListener("click", (event) => {
                if (elem.classList.contains("is-collapsed")) {
                    elem.classList.remove("is-collapsed");
                } else {
                    elem.classList.add("is-collapsed");
                }
            });
        });
    });
</script>


<script src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>

<script defer src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" defer></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<link href="/styles/digital-garden-base.css" rel="stylesheet">
    <link href="/styles/obsidian-base.css" rel="stylesheet">
    <link href="/styles/_theme.8f1d066a.css" rel="stylesheet">


<link href="/styles/custom-style.css" rel="stylesheet"><link href="/styles/user/pywrite.css" rel="stylesheet">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">





<style></style>
    
      <script async src="https://soup.tawtaw.site/ramen" data-website-id="fa4f8c5b-4767-4821-b063-f62c4cb90223"></script>
    
    
  </head>
  <body class="theme-dark markdown-preview-view markdown-rendered markdown-preview-section ">
    
    
    
      
    <nav class="navbar">
        <div class="navbar-inner">
            <a href="/" style="text-decoration: none;">
                <h1 style="margin: 15px !important;">Pywrite Garden</h1>
            </a>
        </div>
        
    </nav>
    
    

    

    <main class="content cm-s-obsidian ">
      <header>
        
        <div class="header-meta">
          </div>
      
      
      </header>
      
      
      <h2 id="single-line-string-to-array" tabindex="-1">Single Line String to Array</h2>
<p>filter elements from one array based on another array using associative arrays (available in Bash 4.0 and above). Associative arrays allow you to use strings as keys, making the membership test more efficient.</p>
<p>Here's how you can do it:</p>
<pre><code class="language-bash">#!/bin/bash
IFS=' ' read -r -a COLOR_ARRAY &lt;&lt;&lt; &quot;red yellow blue green yellow white black&quot;
REMOVABLE_WORDS=(&quot;yellow&quot; &quot;white&quot; &quot;black&quot;)
echo &quot;COLOR_ARRAY Array: ${COLOR_ARRAY[*]}&quot;

# Declare an associative array
declare -A REMOVABLE_DICT

# Populate the associative array with removable words
for word in &quot;${REMOVABLE_WORDS[@]}&quot;
do
  REMOVABLE_DICT[&quot;$word&quot;]=1
done

# Initialize a new array for filtered elements
NEW_ARRAY=()

# Filter the COLOR_ARRAY based on the REMOVABLE_DICT
for element in &quot;${COLOR_ARRAY[@]}&quot;
do
  if [[ -z ${REMOVABLE_DICT[&quot;$element&quot;]} ]]; then
    NEW_ARRAY+=(&quot;$element&quot;)
  fi
done

# Print the filtered array
echo &quot;Filtered Array: ${NEW_ARRAY[*]}&quot;

</code></pre>
<p>This script does the following:</p>
<ol>
<li>Reads the initial array <code>VERSION_ARRAY</code>.</li>
<li>Initializes an associative array <code>REMOVABLE_DICT</code> and populates it with the words to be removed.</li>
<li>Initializes an empty array <code>NEW_ARRAY</code> to store the filtered elements.</li>
<li>Iterates over each element in <code>VERSION_ARRAY</code>.</li>
<li>Checks if the element is not in the <code>REMOVABLE_DICT</code>.</li>
<li>If the element is not in <code>REMOVABLE_DICT</code>, it adds the element to <code>NEW_ARRAY</code>.</li>
<li>Finally, it prints the filtered array.</li>
</ol>
<p>Using associative arrays provides a cleaner and more efficient way to check for membership compared to using regular arrays.</p>
<h2 id="multi-line-string-to-array" tabindex="-1">Multi-Line String to Array</h2>
<p>Sometimes the input is a multi-line string where each line item is one element in the array. use the <code>readarray</code> to parse it correctly</p>
<pre><code class="language-bash">#!/bin/bash
MULTILINE_STRING=&quot;hero1
hero2
badguy1
hero3
badguy2&quot;

readarray -t original_array &lt;&lt;&lt; &quot;$MULTILINE_STRING&quot;

# Words to remove
words_to_remove=(&quot;badguy1&quot; &quot;badguy2&quot;)

# Declare an associative array (dictionary) for words to remove
declare -A remove_dict
for word in &quot;${words_to_remove[@]}&quot;
do
  remove_dict[&quot;$word&quot;]=1
done

# Filter the original array
filtered_array=()
for word in &quot;${original_array[@]}&quot;
do
  if [[ -z &quot;${remove_dict[&quot;$word&quot;]}&quot; ]]
  then
    filtered_array+=(&quot;$word&quot;)
  fi
done

# Output the filtered array
echo &quot;Filtered Array: ${filtered_array[@]}&quot;


</code></pre>

      
      
    </main>

    

    
        <script>
      if (window.location.hash) {
        document.getElementById(window.location.hash.slice(1)).classList.add('referred');
      }
      window.addEventListener('hashchange', (evt) => {
        const oldParts = evt.oldURL.split("#");
        if (oldParts[1]) {
          document.getElementById(oldParts[1]).classList.remove('referred');
        }
        const newParts = evt.newURL.split("#");
        if (newParts[1]) {
          document.getElementById(newParts[1]).classList.add('referred');
        }
      }, false);
      const url_parts = window.location.href.split("#")
      const url = url_parts[0];
      const referrence = url_parts[1];
      document.querySelectorAll(".cm-s-obsidian > *[id]").forEach(function (el) {
        el.ondblclick = function(evt) {
          const ref_url = url + '#' + evt.target.id
          navigator.clipboard.writeText(ref_url);
      }
      });

      
    </script>
    <script src=" https://fastly.jsdelivr.net/npm/luxon@3.2.1/build/global/luxon.min.js "></script>
<script defer>
    TIMESTAMP_FORMAT = "MMM dd, yyyy h:mm a";
    document.querySelectorAll('.human-date').forEach(function (el) {
        el.innerHTML = luxon.DateTime.fromISO(el.getAttribute('data-date') || el.innerText).toFormat(TIMESTAMP_FORMAT);
      });
</script>
    
    
    <script>
lucide.createIcons({
            attrs: {
                class: ["svg-icon"]
            }
        });
</script>
  </body>
</html>
