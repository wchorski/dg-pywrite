<p>I like to remove any package dependancies where I can. Hopefully this solution can help remove another</p>
<pre><code class="language-js">var fs = require('fs');
var request = require('request');
var upfile = 'sample.zip';
fs.readFile(upfile, function(err, content){
    if(err){
        console.error(err);
    }
    var metadata = {
        token: &quot;### access token ###&quot;,
        channels: &quot;sample&quot;,
        filename: &quot;samplefilename&quot;,
        title: &quot;sampletitle&quot;,
    };
    var url = &quot;https://slack.com/api/files.upload&quot;;
    var boundary = &quot;xxxxxxxxxx&quot;;
    var data = &quot;&quot;;
    for(var i in metadata) {
        if ({}.hasOwnProperty.call(metadata, i)) {
            data += &quot;--&quot; + boundary + &quot;\r\n&quot;;
            data += &quot;Content-Disposition: form-data; name=\&quot;&quot; + i + &quot;\&quot;; \r\n\r\n&quot; + metadata[i] + &quot;\r\n&quot;;
        }
    };
    data += &quot;--&quot; + boundary + &quot;\r\n&quot;;
    data += &quot;Content-Disposition: form-data; name=\&quot;file\&quot;; filename=\&quot;&quot; + upfile + &quot;\&quot;\r\n&quot;;
    data += &quot;Content-Type:application/octet-stream\r\n\r\n&quot;;
    var payload = Buffer.concat([
            Buffer.from(data, &quot;utf8&quot;),
            new Buffer(content, 'binary'),
            Buffer.from(&quot;\r\n--&quot; + boundary + &quot;--\r\n&quot;, &quot;utf8&quot;),
    ]);
    var options = {
        method: 'post',
        url: url,
        headers: {&quot;Content-Type&quot;: &quot;multipart/form-data; boundary=&quot; + boundary},
        body: payload,
    };
    request(options, function(error, response, body) {
        console.log(body);
    });
});
</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/49053193/nodejs-request-how-to-send-multipart-form-data-post-request" target="_blank" class="external-link">node.js - NodeJS Request how to send multipart/form-data POST request - Stack Overflow</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/NodeJS|developer/NodeJS]]</li>
</ul>
