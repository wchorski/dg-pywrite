<p>I was having trouble with the <code>onLoadedMetadata</code> not firing when linked inside the <code>&lt;audio&gt;</code> tag. So hooking up an event listener 'the old fashion way' seemed to do the trick.</p>
<p>There are a couple things missing in this <code>Component.jsx</code>, but if you know how to structure a react component it should be easy to pick out the parts you need</p>
<pre><code class="language-jsx">
	function testClick() {
	
		console.log('test click');
	
	}
	
	useEffect(() =&gt; {
	
		document.getElementById(&quot;btn-test&quot;).addEventListener(&quot;click&quot;, testClick )
		
		return () =&gt; {
			document.getElementById(&quot;btn-test&quot;).removeEventListener(&quot;click&quot;, testClick )
		}
	
	}, [])

return (
	&lt;button id=&quot;btn-test&quot;&gt;test butn&lt;/button&gt;
)
</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/55262596/using-useeffect-with-event-listeners" target="_blank" class="external-link">javascript - Using useEffect with event listeners - Stack Overflow</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/ReactJS/ReactJS|developer/ReactJS/ReactJS]]</li>
</ul>
