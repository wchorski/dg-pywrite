<p>#reactjs</p>
<p>I wanted to create an number input field that can both be edited by keyboard input and incremental buttons like</p>
<p><input type='number' value=3 > <button> + </button> <button> - </button></p>
<p>Most tutorials do not utilize the <code>useRef</code> hook which I think helps simply and easily expand logic.</p>
<pre><code class="language-jsx">import {useState, useEffect, useRef} from 'react'

import { TiArrowLoop } from 'react-icons/ti'
import { FaForward } from 'react-icons/fa'
import { IoIosTimer } from 'react-icons/io'

import { StyledPlayerSettings } from 'styles/PlayerSettings.styled'
import { GiMetronome } from 'react-icons/gi'
import { ToggleSwitch } from './ToggleSwitch'
import next from 'next'


export const Metronome = ({settings}) =&gt; {

  const inputSpeedRef = useRef(null);

  const [timerSpeed, setTimerSpeed] = useState(settings.advSpeed)
  const [metronomeToggle, setMetronomeToggle] = useState(false)
  const [counter, setCounter] = useState(0)
  const [activeSlides, setactiveSlides]     = useState([
    {id: 1, title: 'slide one', color: '#8dc3bf'},
    {id: 2, title: 'slide two', color: '#7aa19e'}, 
    {id: 3, title: 'slide three', color: '#4c6261'}
  ]);


  async function updateAdvSpeed(speed){
    const min = 1
    const max = 100
    const value = Math.max(min, Math.min(max, speed));
    setTimerSpeed(value)
    
    // set_database
  }


  useEffect(() =&gt; {

    const timer = setInterval(() =&gt; { 
      setCounter(count =&gt; {

          setMetronomeToggle( prev =&gt; !prev);
          if (count === activeSlides.length)  return 1
          return count += 1;
      });
    }, 1 * 1000);

    return () =&gt; {              
        clearInterval(timer);  
    };  
  // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [])
  


  return (

    &lt;StyledPlayerSettings&gt;
      &lt;h2&gt;Player Settings&lt;/h2&gt;
      &lt;label htmlFor=&quot;&quot;&gt;change and preview slide advance tempo&lt;/label&gt;

      {settings &amp;&amp; 

        &lt;article className='settings'&gt;


            &lt;div className=&quot;form-item timer&quot;&gt;
              &lt;IoIosTimer className='iconTimer'/&gt;

              &lt;input 
                ref={inputSpeedRef}
                type=&quot;number&quot; 
                // defaultValue={settingsState[0].advSpeed}
                value={timerSpeed}
                min='1'
                max='100'
                
                onChange={(e) =&gt; updateAdvSpeed(e.target.value)}
              /&gt;

              &lt;span 
                className='input-button add'  
                onClick={e =&gt; updateAdvSpeed(Number(inputSpeedRef.current.value) + 1)}   
              &gt; + 
              &lt;/span&gt;
              &lt;span 
                className='input-button remove' 
                onClick={e =&gt; updateAdvSpeed(Number(inputSpeedRef.current.value) + -1)}   
              &gt; - 
              &lt;/span&gt;
            &lt;/div&gt;
            &lt;div className=&quot;preview&quot;&gt;
              {metronomeToggle &amp;&amp; (
                  &lt;div className=&quot;metronome&quot;&gt;
                    &lt;GiMetronome /&gt;
                  &lt;/div&gt;
                )}
                {!metronomeToggle &amp;&amp; (
                  &lt;div className=&quot;metronome&quot;&gt;
                    &lt;GiMetronome style={{transform: &quot;scaleX(-1)&quot;}} /&gt;
                  &lt;/div&gt;  
                )}

                &lt;ul className=&quot;slid-list&quot;&gt;
                  {
                    activeSlides
                      .map((slide ) =&gt; (
                        &lt;li className={slide.id === counter ? 'slide active' : 'slide'} key={slide.id} style={{backgroundColor: slide.color}}&gt;

                          { slide.id === counter &amp;&amp; (
                            &lt;p&gt;{slide.title}&lt;/p&gt;
                          )}
                          
                        &lt;/li&gt;
                      ))
                  }
                &lt;/ul&gt;
            &lt;/div&gt;
          }

        &lt;/article&gt;
      }
    &lt;/StyledPlayerSettings&gt;
  )
}

</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://bobbyhadz.com/blog/react-number-input-min-max" target="_blank" class="external-link">Create numeric input with Min and Max validation in React | bobbyhadz</a></li>
<li><a href="https://stackoverflow.com/questions/61530157/how-to-let-the-user-input-number-and-increase-it-with-a-button-in-react-js" target="_blank" class="external-link">javascript - How to let the user input number and increase it with a button in React JS - Stack Overflow</a></li>
</ul>
