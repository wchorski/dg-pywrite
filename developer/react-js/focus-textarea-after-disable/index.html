<p>#reactjs</p>
<p>The logic gets a bit fuzzy when trying to focus a <code>&lt;textarea /&gt;</code> element right after enabling input. The <code>useEffect</code> has to be utilized to keep the DOM updated</p>
<pre><code class="language-jsx">export const AppComponent = () =&gt; {

	const [gameState, setGameState] = useState('setup') //setup, play, end

	async function handlePlay() {
	    setGameState('play')
	    textareaRef.current.focus()
	    console.log('play game');
	  }

	useEffect(() =&gt; {
		if (gameState === 'play') {
			textareaRef.current.focus();
		}
	}, [gameState]);

	return (&lt;&gt;
	
	    &lt;h1&gt;Game State: {gameState}&lt;/h1&gt;
	
	    &lt;div className={gameState === 'end' ? 'end' : 'end transparent'}&gt;
	      &lt;strong&gt;Round End&lt;/strong&gt;
	      &lt;br/&gt;
	      &lt;button onPointerDown={e =&gt; handleReset()}&gt;Play again?&lt;/button&gt;
	    &lt;/div&gt;
	
	
	    {gameState === 'setup' &amp;&amp; (
	      // did not work with onPointerDown !!!! 
	      &lt;button onClick={handlePlay}&gt; Play ▶️ &lt;/button&gt;
	    )}
	
	    {/* &lt;input ref={textareaRef} /&gt; */}
	
	    {/* hack: showing a blank input because focus input doesn't work in the same command line */}
	
	
	
	      &lt;textarea
	        className={'playerinput'}
	        ref={textareaRef} 
	        onBlur={() =&gt; textareaRef.current.setSelectionRange(0, 0)}
	        onChange={e =&gt; textOnChange(e.target.value)}
	        disabled={gameState === 'end' ? true : false}
	      /&gt;
	
	  &lt;/&gt;)
}
</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/67242065/react-focus-on-an-input-element-that-have-input-with-disabled-property" target="_blank" class="external-link">https://stackoverflow.com/questions/67242065/react-focus-on-an-input-element-that-have-input-with-disabled-property</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/ReactJS/ReactJS|developer/ReactJS/ReactJS]]</li>
</ul>
