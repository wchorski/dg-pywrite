<p>A snippet for using a virtual authorization context. Using it as a way to check for login isn't the most practical use case (when you'll probably use tokens, cookies, etc.) but hopefully this example still gets the point across of how to use <strong>React's</strong> <code>createContext</code></p>
<div class="callout " data-callout="warning"><div class="callout-title"><div class="callout-title-inner"> This does not persist when browser is refreshed</div></div>
<div class="callout-content">
<p>
</p></div></div>
<p><code>useGlobalContext.tsx</code></p>
<pre><code class="language-tsx">
import { createContext, useContext, useState } from &quot;react&quot;;

interface DataType {
  id: string | null,
  email: string | null,
  name: string | null,
  isAdmin: boolean | null,
}

const defaultCtx= {
  session:{
    id: '',
    email: '',
    name: '',
    isAdmin: false,
  },
  setSession: (session:DataType | null) =&gt; {}
}

const GlobalContext = createContext(defaultCtx)

export const GlobalContextProvider = ({ children }: {children: React.ReactNode}) =&gt; {

  const [session, setSession] = useState(null);
  
  return (
    &lt;GlobalContext.Provider value={{session, setSession}}&gt;
      {children}
    &lt;/GlobalContext.Provider&gt;
  )
};

export const useGlobalContext = () =&gt; useContext(GlobalContext);
</code></pre>
<p>don't forget to wrap your app</p>
<p><code>_app.tsx</code></p>
<pre><code class="language-tsx">// import '../styles/globals.css'
import type { AppProps } from 'next/app'
import Page from &quot;../components/Page&quot;;
import dynamic from 'next/dynamic';
import { GlobalStyles } from &quot;../styles/GlobalThemeStyle.styled.js&quot;;
import { ApolloProvider } from &quot;@apollo/client&quot;;

import '../styles/nprogress.css'
import { GlobalContextProvider } from '../lib/useGlobalContext';



function App({ Component, pageProps }: any) {

  return (&lt;&gt;

    &lt;GlobalContextProvider&gt;

		&lt;Component {...pageProps} /&gt;

    &lt;/GlobalContextProvider&gt;
  &lt;/&gt;)
}

export default (App)
</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://github.com/pagecow/nextjs-13-context-api/blob/main/app/Context/store.tsx" target="_blank" class="external-link">https://github.com/pagecow/nextjs-13-context-api/blob/main/app/Context/store.tsx</a></li>
<li><a href="https://felixgerschau.com/react-typescript-context/" target="_blank" class="external-link">https://felixgerschau.com/react-typescript-context/</a></li>
<li><a href="https://stackoverflow.com/questions/58193424/passing-state-with-usecontext-in-typescript" target="_blank" class="external-link">https://stackoverflow.com/questions/58193424/passing-state-with-usecontext-in-typescript</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/ReactJS/ReactJS|developer/ReactJS/ReactJS]]</li>
</ul>
