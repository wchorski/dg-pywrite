<p>Watching a <a href="https://www.youtube.com/@WebDevSimplified" target="_blank" class="external-link">Web Dev Simplified Tutorial</a> I wanted to port this idea of using <code>&lt;dialogue&gt;</code> as a symantically correct popup component. Here is my port to #reactjs</p>
<pre><code class="language-tsx">import { useRef, useEffect, Dispatch, SetStateAction } from 'react'
import { RiCloseFill } from 'react-icons/ri'
import styled from 'styled-components'

type Props = {
  isShown: boolean,
  setIsShown: Dispatch&lt;SetStateAction&lt;boolean&gt;&gt;,
}

export default function TicketPopup({isShown, setIsShown}:Props) {

  const ticketPopupRef = useRef&lt;HTMLDialogElement&gt;(null)

  function handleOnClick(e:React.MouseEvent&lt;HTMLDialogElement, MouseEvent&gt;) {
    const { left, right, top, bottom } = e.currentTarget.getBoundingClientRect();
    if (
      e.clientX &lt; left ||
      e.clientX &gt; right ||
      e.clientY &lt; top ||
      e.clientY &gt; bottom
    ) {
      setIsShown(false)
    }
  }

  useEffect(() =&gt; {
    if(isShown) return ticketPopupRef.current?.showModal()
    if(!isShown) return ticketPopupRef.current?.close()
    // return () =&gt;
  }, [isShown])
  
  
  return (
    &lt;StyledPopup 
      ref={ticketPopupRef}
      onClick={handleOnClick}
    &gt;
      &lt;button onClick={e =&gt; setIsShown(false)} &gt; 
        &lt;RiCloseFill /&gt;
      &lt;/button&gt;
      &lt;h2&gt; Purchase Tickets &lt;/h2&gt;
    &lt;/StyledPopup&gt;
  )
}


const StyledPopup = styled.dialog`

  transition: all 1s;

  &amp;::backdrop{
    transition: all 1s;
    background-color: #00000094;
  }
`
</code></pre>
<div class="callout " data-callout="warning"><div class="callout-title"><div class="callout-title-inner"> Hot Reload Error<br></div></div>
<div class="callout-content">
<p>
&quot;InvalidStateError: Failed to execute 'showModal' on 'HTMLDialogElement': The element already has an 'open' attribute, and therefore cannot be opened modally.&quot;</p>
<p>While in development, errors usually get thrown during a hot reload. That's because the component is reading multiple 'open'. I assume this can safely be ignored in production</p>
</div></div>
<p>I'm not a big fan of passing down an <code>useState</code> hook from parent to  child component, but it was the first idea I had.</p>
<hr>
<h2 id="credit" tabindex="-1">Credit</h2>
<ul>
<li>Web Dev Simplified - <a href="https://www.youtube.com/watch?v=ywtkJkxJsdg&amp;t=473s" target="_blank" class="external-link">https://www.youtube.com/watch?v=ywtkJkxJsdg&amp;t=473s</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/ReactJS/ReactJS|developer/ReactJS/ReactJS]]</li>
</ul>
