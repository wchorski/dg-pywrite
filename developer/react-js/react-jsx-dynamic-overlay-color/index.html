<p>I wanted a dynamic way to add a transparent color that would tint the background image of a <code>&lt;section&gt;</code>. I went the the pseudo <code>::before</code> route as I thought it would keep my #html less cluttered.</p>
<p>Problem is, I don't like using CSS in JS libraries anymore as per my [[developer/NodeJS/CSS Modules vs Styled Components|developer/NodeJS/CSS Modules vs Styled Components]] thoughts.</p>
<h2 id="my-react-component" tabindex="-1">My React Component</h2>
<p>in the component I add in a locally scoped css variable that I can call later</p>
<pre><code class="language-jsx">import { CSSProperties, ReactNode } from &quot;react&quot;
import { GridLayout } from &quot;@ks/types&quot;;

type Props = {
  pad?:number,
  imageSrc?:string,
  color?:string,
  overlay?:string,
  col?:number,
  layout:GridLayout,
  children:ReactNode|ReactNode[],
  id?:string,
  styles?:CSSProperties,
  className?:string
  height?:string,
}

export function Section({
  pad = 1, 
  height,
  imageSrc, 
  color, 
  overlay,
  col,
  layout = '1_1',
  children,
  id,
  styles,
  className,
}:Props
) {
  //                                  gotta put a '_' in front because css no like numbers as class names
  const stylesArr = [
    'section', 
    `grid`, 
    `overlay`,
    [`_${layout}`], 
    className,
  ]
  // todo trying global instead of module
  // const stylesArr = [styles.section, styles[`grid_${layout}`] ]

  const inlineStyles = {
    ...styles,
    minheight: height,
    &quot;--c-overlay&quot;: overlay, 
  } as CSSProperties

  if(imageSrc) Object.assign(inlineStyles, {background: `url(${imageSrc})`})
  if(color) Object.assign(inlineStyles, {backgroundColor: color,}) 

  return (
    &lt;section 
      id={id}
      className={stylesArr.join(' ')}
      style={inlineStyles}
    &gt;

      {Array.isArray(children) ? children?.map((child:any, i:number) =&gt; (
        &lt;div key={i}&gt; 
          {child} 
        &lt;/div&gt;
      )) : (
        &lt;div&gt;
          {children}
        &lt;/div&gt;
      ) }
    
    &lt;/section&gt;
  )
}

</code></pre>
<h2 id="style" tabindex="-1">Style</h2>
<pre><code class="language-scss">.overlay{
  position: relative;
  
  &amp;::before {
    content: &quot;&quot;;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background: var(--c-overlay);
  }
}
</code></pre>
<hr>
<h2 id="credits" tabindex="-1">Credits</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/14436155/how-to-create-inline-style-with-before-and-after" target="_blank" class="external-link">css - how to create inline style with :before and :after - Stack Overflow</a></li>
</ul>
<h2 id="backlinks" tabindex="-1">Backlinks</h2>
<ul>
<li>[[developer/_developer_boxðŸ“¦|developer/_developer_boxðŸ“¦]]</li>
</ul>
